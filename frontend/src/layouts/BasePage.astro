---
import Navbar from "../components/elements/Navbar.astro";
import Footer from "../components/sections/Footer.astro";
import Base from "./Base.astro";
---

<Base title="Welcome to Astro.">
  <main class="relative">
    <Navbar />
    <slot />
    <Footer />
  </main>
</Base>
<div id="hubspot-conversations-inline-parent">
  <iframe id="hubspot-conversations-inline-iframe" style="display: none;"
  ></iframe>
</div>

<style>
  #hubspot-conversations-inline-iframe {
    width: 300px;
    height: 500px;
    border: none;
  }
</style>

<script>
  function onConversationsAPIReady() {
    console.log(`HubSpot Conversations API: ${window.HubSpotConversations}`);
  }
  /*
    configure window.hsConversationsSettings if needed.
  */
  window.hsConversationsSettings = {
    loadImmediately: false,
    inlineEmbedSelector: "#hubspot-conversations-inline-parent",
    enableWidgetCookieBanner: true,
    disableAttachment: true,
  };
  /*
   If external API methods are already available, use them.
  */
  if (window.HubSpotConversations) {
    onConversationsAPIReady();
  } else {
    /*
      Otherwise, callbacks can be added to the hsConversationsOnReady on the window object.
      These callbacks will be called once the external API has been initialized.
    */
    window.hsConversationsOnReady = [onConversationsAPIReady];
  }
</script>
