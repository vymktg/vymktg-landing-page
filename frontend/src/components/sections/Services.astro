---
import { NAVIGATION_ITEM, SERVICE_LIST } from "../../config";
import Paragraph from "../shared/Paragraph.astro";
import Container from "../shared/Container.astro";
import Service from "../cards/Service.astro";
import ButtonLink from "../shared/ButtonLink.astro";
import Title from "../shared/Title.astro";
import { Image } from "astro:assets";
import POSTER_IMAGE from "../../assets/images/services/content.png";
import PAID_ADVERTISING from "../../assets/images/services/paid-advertising.png";
import WEB_AND_SEO from "../../assets/images/services/manage-data.png";
import CRM from "../../assets/images/services/CRM.png";
import SEO_ICON from "../../assets/images/seo-128.png";
import FUNNEL_ICON from "../../assets/images/funnel-128.png";
import DIAGRAM_ICON from "../../assets/images/diagram-128.png";
import CONTENT_CREATION from "../../assets/images/online-advertising-128.png";
---

<section id="services">
  <Container>
    <div
      class="grid grid-cols-1 grid- xl:grid-cols-[1fr_.8fr] justify-center gap-20"
    >
      <div class="relative">
        <div
          class="hidden sm:block z-[-1] absolute top-0 bottom-0 left-0 right-0 m-auto rounded-3xl w-full max-w-[400px] h-[400px] xl:max-w-[480px] xl:min-h-[424px] bg-[#f3efff] xl:-top-10 xl:-left-10 xl:right-auto xl:bottom-auto bg-[url(https://assets.website-files.com/5e7adffc6e755a6bb3a7d516/5e7adffc6e755aa75ca7d5eb_Wave%20Purple.svg)]"
          style="background-position: 50% 50%; background-size: 360%;"
        >
        </div>
        <div
          class="grid grid-cols-1 sm:grid-cols-2 gap-10 sm:gap-x-10 sm:gap-y-0"
        >
          <Service {...SERVICE_LIST[0]}>
            <Image class="w-8 h-8" src={SEO_ICON} alt="" />
          </Service>
          <Service className="sm:mt-10" {...SERVICE_LIST[1]}>
            <Image class="w-8 h-8" src={FUNNEL_ICON} alt="" />
          </Service>
          <Service {...SERVICE_LIST[2]}>
            <Image class="w-8 h-8" src={DIAGRAM_ICON} alt="" />
          </Service>
          <Service className="sm:mt-10" {...SERVICE_LIST[3]}>
            <Image class="w-8 h-8" src={CONTENT_CREATION} alt="" />
          </Service>
        </div>
      </div>

      <div
        class="flex flex-col gap-9 justify-center items-center sm:items-start -order-1 xl:order-2"
      >
        <h3 class="font-medium text-5xl text-dark">How can I help?</h3>
        <p
          class="w-10/12 text-lg text-[#7b88a8] font-normal md:w-10/12 text-center sm:text-start"
          data-aos="fade-up"
        >
          In a highly competitive digital landmark, selecting the right
          marketing approach not only optimizes your investment but also ensures
          your business will stand out.
        </p>
        <ButtonLink
          href={NAVIGATION_ITEM[1].href}
          text="Explore Our Services"
          variant="primary"
          className="bg-primary capitalize flex felx-row gap-2"
        >
          <svg
            slot="right-icon"
            class="w-4 h-4"
            fill="currentColor"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg"
            ><path
              fill-rule="evenodd"
              d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z"
              clip-rule="evenodd"></path></svg
          >
        </ButtonLink>
      </div>
    </div>
    <div
      class="hidden xl:absolute -bottom-60 -right-40 flex justify-center items-center"
    >
      <div
        class="device device-macbook-pro-2018 !scale-[60%] sm:!scale-75 md:scale-100"
      >
        <div class="device-frame">
          <Image
            class="device-screen !absolute top-[29px] opacity-0 transition-opacity duration-300 !object-contain opacity-100"
            src={WEB_AND_SEO}
            alt=""
          />
          <Image
            class="device-screen !absolute top-[29px] opacity-0 transition-opacity duration-300 !object-contain"
            src={CRM}
            alt=""
          />
          <Image
            class="device-screen !absolute top-[29px] opacity-0 transition-opacity duration-300"
            src={PAID_ADVERTISING}
            alt=""
          />
          <Image
            class="device-screen !absolute top-[29px] opacity-0 transition-opacity duration-300"
            src={POSTER_IMAGE}
            alt=""
          />
        </div>
        <div class="device-stripe"></div>
        <div class="device-header"></div>
        <div class="device-sensors"></div>
        <div class="device-btns"></div>
        <div class="device-power"></div>
        <div class="device-home"></div>
      </div>
    </div>
  </Container>
</section>

<script>
  const serviceDeviceImgEls = document.querySelectorAll(
    "#services .device img"
  );

  const handleServicesElClicked = (index) => {
    serviceDeviceImgEls.forEach((element, position) => {
      element.classList.remove("opacity-100");
      if (index === position) {
        element.classList.add("opacity-100");
      }
    });
  };

  document.addEventListener("DOMContentLoaded", (_) => {
    const servicesEl = document.querySelectorAll(" #services .service-item");
    servicesEl.forEach((item, index) => {
      item.addEventListener("mouseover", (_) => {
        handleServicesElClicked(index);
      });
    });
  });
</script>
